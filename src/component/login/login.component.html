<main class="form-signin w-100 m-auto">
  <p>{{formMessage}}</p>

<div class="form-floating" *ngIf="authToken">
        <input  class="form-control" #token>
        <button class="btn btn-primary w-100 py-2" (click)="verifyAuthToken(token)">Submit</button>
      </div>

  <div class="form-floating" *ngIf="registrationSuccesful">
        <a routerLink="/sp/app/admin/dashboard/{{cache.user.username}}" class="btn btn-primary w-100 py-2">Dashboard</a>
      </div>

<form [formGroup]="loginForm" (ngSubmit)="submit()" *ngIf="loginForm">
  
      <div class="form-floating">
        <input type="email" class="form-control" id="email" formControlName="email">
        <label for="email">Email address</label>
      </div>

      <div *ngIf="email?.invalid && (email?.dirty || email?.touched)"
      class="alert alert-danger">
    <div *ngIf="email?.hasError('required')">
      Email is required.
    </div>
   
    <div *ngIf="email?.hasError('email')">
      please enter a valid email
    </div>

    <div *ngIf="email?.hasError('emailExists')">
      The email has been taken
    </div>

    
  </div>

      <div class="form-floating">
        <input type="password" class="form-control" id="password" formControlName="password">
        <label for="password">Password</label>
      </div>

      <div *ngIf="password?.invalid && (password?.dirty || password?.touched)"
      class="alert alert-danger">
    <div *ngIf="password?.hasError('required') || password?.hasError('minlength')">
      Please enter your password
    </div>
  </div>
  
      <button class="btn btn-primary w-100 py-2" type="submit" [disabled]="!loginForm.valid">Submit</button>
    </form>
    
  </main>

  <!--Status message-->
     <div *ngIf="statusMessage" class="fixed-bottom">
      <app-error-message [(errorMessage)]="statusMessage" [(alertType)]="alertType"></app-error-message>
     </div>
     <!--Status message-->

